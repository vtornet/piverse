{% extends 'base.html' %}

{% block content %}
<div class="container py-4">
    <h2 class="mb-4">Tu Perfil</h2>
    <form method="post" enctype="multipart/form-data">
        <!-- Nombre de usuario solo lectura -->
        <div class="mb-3">
            <label for="username" class="form-label">Usuario Pi Network</label>
            <input type="text" class="form-control" id="username" name="username"
                   value="{{ user.username }}" readonly>
            <div class="form-text">Este es tu nombre en Pi Network. No puede modificarse.</div>
        </div>
        <!-- Biografía -->
        <div class="mb-3">
            <label for="bio" class="form-label">Biografía (opcional)</label>
            <textarea class="form-control" id="bio" name="bio" rows="3"
                      placeholder="Cuéntanos algo sobre ti...">{{ user.profile.bio if user.profile else "" }}</textarea>
        </div>
        <!-- Foto de perfil -->
        <div class="mb-3">
            <label for="profile_picture" class="form-label">Foto de perfil (opcional)</label>
            {% if user.profile and user.profile.photo %}
                <div class="mb-2">
                    <img src="{{ url_for('static', filename='uploads/' ~ user.profile.photo) }}"
                         alt="Foto de perfil" class="rounded-circle" style="width: 100px; height: 100px; object-fit: cover;">
                </div>
            {% endif %}
            <input class="form-control" type="file" id="profile_picture" name="profile_picture" accept="image/*">
        </div>
        <button type="submit" class="btn btn-primary">Guardar cambios</button>
    </form>
</div>
{% endblock %}